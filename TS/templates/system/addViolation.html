{% extends "ts_index.html" %}

{% block content %}
<section id="add-violation-content">
  <div class="section-header mb-4">
    <div class="title-section">
      <i class="fas fa-plus-circle icon"></i><b>VIOLATION DETAILS</b>
    </div>
  </div>

  <div class="container-fluid">
    <form method="post" enctype="multipart/form-data" id="add-violation-form">
      {% csrf_token %}
      <div class="row mb-3">
        <div class="col-12 d-flex align-items-center" style="padding-left: 30px;">
          <h2 class="me-3 mb-0"><b>Ticket #{{ ticket_number|default:"XXXX" }}</b></h2>
        </div>
      </div>

      <div class="row g-3">
        <!-- Violation Info -->
        <div class="col-md-2">
          <div class="violations-details p-3" style="padding-left: 35px;">
            <label><b>Reported on:</b></label>
            <div>{{ now|date:"F j, Y" }}, <span>{{ now|time:"h:i A" }}</span></div>
            <label class="mt-2"><b>Reported by:</b></label>
            <p>{{ request.user.get_full_name }}</p>
          </div>
        </div>

        <!-- Photo + Description -->
        <div class="col-md-3">
          <div class="violations-details p-3">
            <p><b>Violation Type:</b></p>
            <div><input type="checkbox" name="violation" value="ID Violation"> ID Violation</div>
            <div><input type="checkbox" name="violation" value="Dress Code Violation"> Dress Code Violation</div>
            <div><input type="checkbox" name="violation" value="Uniform Violation"> Uniform Violation</div>

            <label for="photo-proof" class="mt-3"><b>Photo Proof:</b></label>
            <input type="file" id="photo-proof" name="photo" class="form-control mb-3">

            <label for="description"><b>Description:</b></label>
            <input type="text" id="description" name="description" class="form-control">
          </div>
        </div>

        <!-- Divider -->
        <div class="col-md-1 d-flex justify-content-center align-items-center">
          <div style="border-left: 1px solid #ccc; height: 100%;"></div>
        </div>

        <!-- Student Info -->
        <div class="col-md-2">
          <div class="student-photo text-center">
            <h4><b>Student Details</b></h4>

          </div>
        </div>

        <div class="col-md-4">
          <div class="student-details mt-2 p-3">
            <label for="student-name"><b>Name:</b></label>
            <input type="text" id="student-name" name="student_name" class="form-control mb-2" placeholder="Student Full Name">

            <label for="student-id"><b>Student ID:</b></label>
            <input type="text" id="student-id" name="student_id" class="form-control mb-3" placeholder="Student No.">

            <div class="d-flex justify-content-end">
              <a href="{% url 'ts:Dashboard' %}" class="btn btn-outline-danger cancel-btn mt-5 me-2">CANCEL</a>
              <button type="submit" class="btn btn-primary confirm-btn mt-5">CONFIRM</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
{% endblock %}