{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>XU OSA - Admin Dashboard</title>

  <!-- CSS Links -->
  <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- JS Links -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

  <!-- Header Section -->
  <div class="header">
    <div class="header-title">
      <div class="title-small">XU OSA</div>
      <div class="title-large">ENTRY VIOLATION SYSTEM</div>
    </div>

    <div class="user-info">
      <div class="user-icons">
        <span class="icon-settings" aria-label="Settings Icon"></span>
        <div class="vertical-line"></div>
        <span class="icon-user" aria-label="User Icon"></span>
      </div>
      <div class="user-details">
        <div>PEPITO, REM WELL</div>
        <div>SSIO User</div>
      </div>
    </div>
  </div>

  <!-- Admin Navigation Buttons -->
  <div class="buttons">
    <button class="btn view" id="view-violations">
      <i class="fas fa-eye icon"></i><b>VIEW VIOLATIONS</b>
    </button>
    <button class="btn add" id="add-violation">
      <i class="fas fa-plus-circle icon"></i><b>ADD VIOLATION</b>
    </button>
    <button class="btn manage" id="manage-users">
      <i class="fas fa-users-cog icon"></i><b>MANAGE USERS</b>
    </button>
  </div>

  <!-- Date Information Section -->
  <div class="date-info">
    <div class="date-item">
      <span class="date-label">Day:</span> <span class="date-value">{{ current_day }}</span>
    </div>
    <div class="date-item">
      <span class="date-label">Month:</span> <span class="date-value">{{ current_month }}</span>
    </div>
    <div class="date-item">
      <span class="date-label">Date:</span> <span class="date-value">{{ current_date }}</span>
    </div>
    <div class="date-item">
      <span class="date-label">Time:</span> <span class="date-value date-value-time">{{ current_time }}</span>
    </div>
    <div class="date-item">
      <span class="date-label">Year:</span> <span class="date-value">{{ current_year }}</span>
    </div>
  </div>

  <div class="horizontal-line"></div>

  <!-- Dynamic Content from Views -->
  {% block content %}
  {% endblock %}

  <!-- Custom Scripts -->
  <script src="{% static 'js/admin.js' %}"></script>

  <!-- Live Clock Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      function updateClock() {
        const now = new Date();
        let hours = now.getHours();
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        let ampm = hours >= 12 ? 'PM' : 'AM';
        
        hours = hours % 12;
        hours = hours ? hours : 12; // 0 becomes 12
        
        const formattedHours = String(hours).padStart(2, '0');
        const timeString = `${formattedHours}:${minutes}:${seconds} ${ampm}`;
        
        const timeElement = document.querySelector('.date-value-time');
        if (timeElement) {
          timeElement.textContent = timeString;
        }
      }
    
      updateClock();              // Update immediately on load
      setInterval(updateClock, 1000);  // Then update every second
    });
    </script>
    

  <!-- Button Active Highlighter and Section Switcher -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const buttons = document.querySelectorAll('.buttons .btn');
      const sections = document.querySelectorAll('.content-section');

      buttons.forEach(button => {
        button.addEventListener('click', function() {
          // Remove active class from all buttons
          buttons.forEach(btn => btn.classList.remove('active-btn'));

          // Hide all sections
          sections.forEach(section => section.style.display = 'none');

          // Add active class to clicked button
          this.classList.add('active-btn');

          // Show the right section
          if (this.id === 'view-violations') {
            document.getElementById('view-violations-content').style.display = 'block';
          } else if (this.id === 'add-violation') {
            document.getElementById('add-violation-content').style.display = 'block';
          } else if (this.id === 'manage-users') {
            document.getElementById('manage-users-content').style.display = 'block';
          }
        });
      });
    });
  </script>

</body>
</html>
